\chapter{Primitive Recursive Functions}

\section{Composition}
No exercise.


\section{Recursion}
No exercise.


\section{PRC Classes}

\subsection{}
\[ h_{1}(x, y, z) = g_{1}(u^{3}_{3}(x, y, z), u^{3}_{2}(x, y, z), u^{3}_{1}(x, y, z)) \]
\[ h_{2}(x) = g_{1}(u^{1}_{1}(x), u^{1}_{1}(x), u^{1}_{1}(x)) \]
\[
\begin{split}
h_{3}(w, x, y, z) = h_{1}( & g_{3}(u^{4}_{1}(w, x, y, z), u^{4}_{3}(w, x, y, z)), \\
                           & u^{4}_{4}(w, x, y, z), \\
                           & g_{4}( s(s(n(u^{4}_{1}(w, x, y, z)))), g_{4}(u^{4}_{3}(w, x, y, z), u^{4}_{4}(w, x, y, z))))
\end{split}
\]


\subsection{}
Three initial functions are all total; functions obtained from total functions
by either composition or recursion also total.

\subsection{}
Initial function $ u^{n+1}_{i}(\dots) $ does not belong to $ \mathscr{C} $.

\subsection{}
Admit.

\subsection{}
Admit.



\section{Some Primitive Recursive Functions}

\subsection{}
Admit.

\subsection{}
\begin{align*}
  f(0)   & = k \\
  f(t+1) & = f(t)
\end{align*}


\subsection{}
Admit.

\subsection{}
Admit.


\subsection{}
\begin{align*}
  \iota_{f}(0, x)   & = u^{1}_{1}(x) \\
  \iota_{f}(t+1, x) & = f(\iota_{f}(t, x))
\end{align*}


\subsection{}
\begin{enumerate}
  \item
  \begin{align*}
    E(0)   & = 0 \\
    E(t+1) & = \alpha(E(t))
  \end{align*}

  \item
  \begin{align*}
    H(0)   & = 0 \\
    H(t+1) & = H(t) + E(t)
  \end{align*}
\end{enumerate}


\subsection{}
\[\ f(x) = h(x, x) \]
where $h(x,y)$ is primitive recursive :
\begin{align*}
  h(x, 0)   & = 1 \\
  h(x, t+1) & = {h(x, t)}^{x} \\
\end{align*}


\subsection{}
$ f(x+1) < x+1 $ for all $x$, particularly, $ f(1) < 1 $ then must have
 $ f(1) = 0 $. So $ f'(x) = \min _{t\le x} f^{t}(x) = 0 $ is defined on
all $ x>0 $, and is computable:
\begin{center}
\begin{tabular}{ll}
  $[A]$ & $ Z \gets f^{Y}(x) $ \\
        & IF $Z = 0$ GOTO $E$ \\
        & $ Y \gets Y + 1 $ \\
        & GOTO $A$
\end{tabular}
\end{center}
According to Exercise 5, $ g^{n}(x) = \iota_{g}(n, x) $ is computable.
Then $h$ can be defined as:
\begin{align*}
  h(0)   & = k \\
  h(t+1) & = g^{f'(t+1)}(k) \\
\end{align*}


\subsection{}
\[ f(n, x) = g^{2^{n}}(x) = \iota_{g}(2^{n}, x) \]

\subsection{}
Admit.

\subsection{}
\begin{enumerate}
  \item Admit.

  \item
  $ g(x_{1}, x_{2}) \le \max\{x_{1}, x_{2}\} + k $ for some $k$ according to (a).
  When $ t = 0 $,
  \[ h(0) = c \le 0 \cdot k + c .\]
  Suppose the result is known for $ t $:
  \[ h(t) \le t \cdot k + c .\]
  Then for $ t+1 $:
  \begin{align*}
    h(t+1) & = g(t, h(t)) \\
           & \le \max\{t, h(t)\} + k \\
           & \le \max\{t, t \cdot k + c\} + k \\
  \end{align*}
  Because $ t \le t \cdot k + c $ (since $k>0$),
  \[ h(t+1) \le (t+1)k+c \]

  \item Similar to (b).
  \item Admit.
  \item Admit.
\end{enumerate}



\section{Primitive Recursive Predicates}

\subsection{}
If function $f(x_{1}, x_{2} \dots x_{n})$ belong to COMP,
either $f(x_{1}, x_{2} \dots x_{n}) = k$ for some constant $k$,
or $f(x_{1}, x_{2} \dots x_{n}) = x_{i}+k$ for some $1\le i\le n$ and constant $k$.
Since the latter can't be a predicate(whose value are 0 or 1), it must be the former.



\section{Iterated Operations and Bounded Quantifiers}

\subsection{}
\[ P(x) = (\exists t)_{\le x}(t^{2}=x) \]

\subsection{}
\[ \sigma(x) = \prod_{t=0}^{x}{t\cdot(t|x)} \]

\subsection{}
\[ \pi(x) = \sum_{t=0}^{x}{Prime(t)} \]

\subsection{}
\[ SQSM(x) = (\exists v)_{\le x}\{ (\exists w)_{\le x}(v^2+w^2=x) \} \]

\subsection{}
\[ \begin{array}{rl}
    g(y,z,x_{1},\dots ,x_{n})
  & = (\forall t)_{y\le t\le z}P(t,x_{1},\dots,x_{n}) \\
  & = (\forall t)_{\le z}\{ t<y \ \lor\ P(t,x_{1},\dots,x_{n}) \}
\end{array}\] \[ \begin{array}{rl}
    h(y,z,x_{1},\dots ,x_{n})
  & = (\forall t)_{y\le t\le z}P(t,x_{1},\dots,x_{n}) \\
  & = (\forall t)_{\le z}\{ t\ge y \ \&\ P(t,x_{1},\dots,x_{n}) \}
\end{array}\]

\subsection{}
\[ RP(x,y) = \neg\{ (\exists t)_{\le x}(t|x)\&(t|y) \ \lor\
                    (\exists t)_{\le y}(t|x)\&(t|y)  \} \]

\subsection{}
Admit.



\section{Minimalization}

\subsection{}
\[ h(x) = \min_{n\le 2x}{2x^2<(n+1)^2} \]

\subsection{}
\[ h(x) = \min_{n\le 2x}{2x^2<n^2} \]

\subsection{}
\begin{align*}
  T(0)   & = 0 \\
  T(t+1) & = 2 + \min_{t}t>T(t) \ \&\ Prime(t) \ \&\ Prime(t+2)
\end{align*}


\subsection{}
\begin{align*}
  u(0)   & = 0 \\
  u(t+1) & = \min_{t}t>u(t) \ \&\ SQSM(t)
\end{align*}


\subsection{}
\begin{align*}
  g(x,0)   & = 0 \\
  g(x,t+1) & = 
    \begin{cases}
      t+1    & \mathrm{if}\ R(x,t+1) \\
      g(x,t) & \mathrm{otherwise}
    \end{cases}
\end{align*}


\subsection{}
\[ \gcd(x,y) = \max_{t\le x+y}{(t|x)\&(t|y)} \]

\subsection{}
\[ \mathrm{lcm}(x,y) = \min_{x\le t\le xy}{(x|t)\&(y|t)} \]


\subsection{}
Let $ P(x,y) = 
\begin{cases}
  1 & \mathrm{if}\ x+y=7 \\
  0 & \mathrm{otherwise}
\end{cases} $, then $ P(x,y) $ is evidently computable. But 
$ \min_{y}{x+y=7} $ is not since it is not total.


\subsection{}
\begin{enumerate}
  \item Admit.
  \item 
  \begin{align*}
    x\cdot y  & = \sum_{t=0}^{y}{x} - x \\
    x^y       & = \begin{cases}
                    1 & y=0 \\
                   \underbrace{xx\cdots x}_{y} & y>0
                  \end{cases} \\
              & = \alpha(y)+\prod_{t=0}^{y-1}{\alpha(\alpha(y))} \\
    x!        & = \prod_{t=0}^{x-1}{(x+1)} 
  \end{align*}
  Where $ \alpha(x) = 1-x $ is elementary.
  
  \item 
  \begin{align*}
    \sim P   & = \alpha(P) \\
    P \lor Q & = \alpha(\alpha(P+Q)) \\
    P \& Q   & = P \cdot Q \\
    (\forall x)_{\le y}P(t,x_{1},\dots,x_{n}) & = \prod_{t=0}^x{P(t,x_{1},\dots,x_{n})} \\
    (\exists x)_{\le y}P(t,x_{1},\dots,x_{n}) & = \alpha(\alpha(\sum_{t=0}^x{P(t,x_{1},\dots,x_{n})})) \\
    \min_{t\le y}{P(t,x_{1},\dots,x_{n})} & = 
      \sum_{u=0}^y\prod_{t=0}^u{\alpha(P(t,x_{1},\dots,x_{n}))} \cdot
      (\exists x)_{\le y}P(t,x_{1},\dots,x_{n})
  \end{align*}
  
  \item 
  \begin{align*}
    |x-y| & \Leftrightarrow (x-y)+(y-x) \\
    x=y   & = \alpha(|x-y|) \\
    y|x   & = (\exists t)_{\le y}(t\cdot y=x) \\
    Prime(x) & = x>1 \ \&\ (\forall t)_{\le x}\{t=1\lor t=x\lor \sim(t|x) \} \\
             & = \alpha(\alpha(x-1)) \ \&\ (\forall t)_{\le x}\{t=1\lor t=x\lor \alpha(t|x) \}
  \end{align*}
  
  \item Admit.
  \item 
  If $ \mathrm{exp}_{y}(x) $ is elementary, there is a constant $k$ such that 
  \[ \mathrm{exp}_{y}(x) < \mathrm{exp}_{k}(\max\{x,y\}) .\] But
  \[ \mathrm{exp}_{k+1}(k+1) > \mathrm{exp}_{k}(\max\{x,y\}) = \mathrm{exp}_{k}(k+1) .\]
\end{enumerate}



\section{Pairing Functions and G\"odel Numbers}

\subsection{}
\begin{align*}
  f'(y) & = f((y)_{1},(y)_{2},\dots (y)_{n}) \\
  f(x_{1},x_{2},\dots x_{n}) & = f'([x_{1},x_{2},\dots x_{n}])
\end{align*}


\subsection{}
There are several ways to solve this problem:
\begin{enumerate}
  \item 
  If $ y_{1},y_{2},\dots y_{n} $ is a permutation of $ x_{1},x_{2},\dots x_{n} $,
  then $ [y_{1},y_{2},\dots y_{n}] $ become greatest when $ y_{1}\le y_{2}\le \cdots \le y_{n} $.
  It's easy to generate all $A_n^n$ permutation of $ x_{1},x_{2},\dots x_{n} $:
  \begin{align*}
    per_1(x_{1},x_{2},\dots x_{n}) & = [x_{1},x_{2},\dots x_{n-1},x_{n}] \\
    per_2(x_{1},x_{2},\dots x_{n}) & = [x_{1},x_{2},\dots x_{n},x_{n-1}] \\
    per_3(x_{1},x_{2},\dots x_{n}) & = [x_{1},x_{2},\dots x_{n-1},x_{n-2},x_{n}] \\
    \cdots
  \end{align*}
  and it's also easy to pick out the biggest one:
  \[ Sort([x_{1},x_{2},\dots x_{n}]) = \max(per_{1},per_{2},\dots per_{A_n^n}) \]
  
  \item Counting sort.
\end{enumerate}
